define(['jquery','modernizr/modernizr',],function($){'use strict';var collapsibleMixin={_create:function(){this.storage=$.localStorage;this.icons=false;if(typeof this.options.icons==='string'){this.options.icons=$.parseJSON(this.options.icons);}
this._processPanels();this._processState();this._refresh();if(this.options.icons.header&&this.options.icons.activeHeader){this._createIcons();this.icons=true;}
this.element.on('dimensionsChanged',function(e){if(e.target&&e.target.classList.contains('active')){this._scrollToTopIfNotVisible(e.target);}}.bind(this));this._bind('click');this._trigger('created');},_scrollToTopIfNotVisible:function(elem){var stickyElementHeight=0;if(this._isElementOutOfViewport()){if($('.nav-sections').css('position')!='fixed'){stickyElementHeight=$('.nav-sections').outerHeight();}else{stickyElementHeight=$('.header').outerHeight();}
$('html, body').animate({scrollTop:$(elem).offset().top-stickyElementHeight},'slow');}}};return function(targetWidget){$.widget('mage.collapsible',targetWidget,collapsibleMixin);return $.mage.collapsible;};});