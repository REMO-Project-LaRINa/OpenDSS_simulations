define(['jquery','Magento_Catalog/js/price-utils','uiRegistry','underscore','mage/template','jquery/ui'],function($,utils,registry,_,mageTemplate){'use strict';var priceUnitController={options:{basePrice:'data-price-amount',priceUnit:'#price-unit',productInfoHolder:'.product-info-main',priceWrapper:'.price-wrapper'},setProductFinalPrice:function(finalPrice){this._super(finalPrice);this.priceUnitToggle(finalPrice);},setAdditionalProductFinalPrice:function(finalPrice){this._super(finalPrice);this.priceUnitToggle(finalPrice);},setProductPriceExclTax:function(priceExcludeTax){this._super(priceExcludeTax);this.priceUnitToggle(priceExcludeTax);},setAdditionalProductPriceExclTax:function(priceExcludeTax){this._super(priceExcludeTax);this.priceUnitToggle(priceExcludeTax);},setProductRegularPrice:function(regularPrice){this._super(regularPrice);this.priceUnitToggle(regularPrice);},setAdditionalProductRegularPrice:function(regularPrice){this._super(regularPrice);this.priceUnitToggle(regularPrice);},getBasePrice:function(){return $(this.element.closest(this.options.productInfoHolder).find(this.options.priceWrapper)).attr(this.options.basePrice)*1;},getPriceUnit:function(){return $(this.element.closest(this.options.productInfoHolder).find(this.options.priceUnit))},priceUnitToggle:function(actualPrice){actualPrice===this.getBasePrice()?this.getPriceUnit().css('display','inline'):this.getPriceUnit().css('display','none');},getOptionId:function($option){var re=/(options\[){1}(\d+)+(\]){1}/g;re.test($option.attr('data-selector'));return parseInt(RegExp.$2);}};return function(targetWidget){$.widget('mageworx.optionBase',targetWidget,priceUnitController);return $.mageworx.optionBase;};});