define(['jquery','mage/smart-keyboard-handler','IntersectionObserverIEPolyfill','mage/mage','mage/ie-class-fixer','domReady!'],function($,keyboardHandler){'use strict';if($('body').hasClass('checkout-cart-index')){if($('#co-shipping-method-form .fieldset.rates').length>0&&$('#co-shipping-method-form .fieldset.rates :checked').length===0){$('#block-shipping').on('collapsiblecreate',function(){$('#block-shipping').collapsible('forceActivate');});}}
const menuElement=document.querySelector('.sections.nav-sections');if(menuElement){const plpSidebar=document.getElementById("pdp-right-sidebar-content");const observer=new IntersectionObserver(function(e){if(getComputedStyle(menuElement).position==='sticky'||getComputedStyle(menuElement).position==='-webkit-sticky'){e[0].target.classList.toggle('isSticky',e[0].intersectionRatio<1);if(plpSidebar){plpSidebar.style.top=menuElement.offsetHeight+'px';plpSidebar.style.maxHeight='calc(100vh - '+menuElement.offsetHeight+'px';}}},{threshold:[1]});observer.observe(menuElement);}
$('.panel.header .header.links').clone().appendTo('#store\\.links');keyboardHandler.apply();});