define(['jquery','mage/url','ClassyLlama_Modals/js/customModal'],function($){'use strict';$.widget('classyLlama.easyModals',{options:{'url':window.location.origin+'/modals/cms/index'},_create:function(){var blockIds=[];var modalTriggers=$('.modal-info');modalTriggers.each(function(){var blockId=$(this).attr('data-modal-id');if(blockIds.indexOf(blockId)===-1){blockIds.push(blockId);}});if(blockIds.length){$.ajax({url:this.options.url,method:'GET',data:{'blockIds':blockIds},success:function(data){initCmsModals(data);},dataType:'json'});}
function initCmsModals(modalInfo){for(var id in modalInfo){if(modalInfo.hasOwnProperty(id)){var content=modalInfo[id];var modal=$('<div></div>');modal.append(content);modal.customModal({responsive:true,modalClass:'cms-modal',buttons:[],trigger:'[data-modal-id="'+id+'"]'});}}}}});return $.classyLlama.easyModals;});